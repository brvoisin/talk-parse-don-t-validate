<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Et si on Ã©vitait les bugs avant mÃªme d'exÃ©cuter le codeÂ ?</title>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1 class="title">
            Et si on Ã©vitait les bugs avant mÃªme d'exÃ©cuter le codeÂ ?
          </h1>
          <p class="subtitle">Utilisez pleinement la puissance des types</p>
          <p class="speaker">Bruno Voisin</p>
          <p class="event">Tremplin Bordelais 2025</p>
        </section>

        <section>
          <h2 class="hidden">Je me prÃ©sente ğŸ‘‹</h2>
          <div class="speaker-card">
            <img
              src="assets/images/bruno.png"
              alt="Bruno Voisin"
              class="portrait"
            />
            <div class="info">
              <div class="name">Bruno Voisin</div>
              <ul>
                <li class="location">Bordeaux</li>
                <li class="organization">
                  <a href="https://sinch.com" rel="external" class="discret">
                    Sinch
                  </a>
                </li>
                <li class="position">Senior Software Engineer</li>
                <li class="experience">13 ans d'expÃ©rience en dÃ©veloppement</li>
              </ul>
            </div>
          </div>
          <div class="logos">
            <div class="logo-item">
              <div class="yaal">
                <img src="assets/images/yaal.svg" alt="Yaal" />
              </div>
            </div>
            <div class="logo-item">
              <img src="assets/images/sinch.svg" alt="Sinch" class="sinch" />
            </div>
          </div>
        </section>

        <section>
          <h2 class="hidden">PrÃ©sentation du sujet</h2>
          <div class="preview">
            <div class="link">
              <a
                href="https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/"
                rel="external"
              >
                lexi-lambda.github.io
              </a>
            </div>
            <div class="title">
              <a
                href="https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/"
                rel="external"
              >
                Parse, donâ€™t validate
              </a>
            </div>
            <div class="description">
              <p>
                Historically, Iâ€™ve struggled to find a concise, simple way to
                explain what it means to practice type-driven design. Too often,
                when someone asks me â€œHow did you come up with this approach?â€ I
                find I canâ€™t give them a satisfying answer.
              </p>
            </div>
            <div class="author">Alexis King</div>
          </div>
        </section>

        <section>
          <h2>Le domaine des possibilitÃ©s</h2>
          <pre><code data-trim data-line-numbers class="language-python">
            from collections.abc import Sequence

            def head[T](seq: Sequence[T]) -> T:
                return seq[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              head([])
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              IndexError: list index out of range
            </code></pre>
            <p>
              La fonction est <strong>partielle</strong> :<br />
              toutes les entrÃ©es possibles ne sont pas prises en compte.
            </p>
          </div>
        </section>

        <section>
          <h2>Fonction totale</h2>
          <p>Toutes les entrÃ©es possibles sont prises en compte.</p>
        </section>

        <section data-auto-animate>
          <h3>Solution 1Â : gÃ©rer la sÃ©quence vide</h3>
          <pre
            data-id="code-solution-1"
          ><code data-trim data-line-numbers class="language-python">
            from collections.abc import Sequence

            def head[T](seq: Sequence[T]) -> T | None:
                if not seq:
                    return None
                return seq[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              print(head([]))
              print(head([1, 2, 3]))
              print(head([None]))
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              None
              1
              None
            </code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Solution 1Â : gÃ©rer la sÃ©quence vide</h3>
          <pre
            data-id="code-solution-1"
          ><code data-trim data-line-numbers class="language-python">
            from collections.abc import Sequence
            from typing import NewType

            NothingType = NewType("NothingType", str)
            Nothing = NothingType("Nothing")

            def head[T](seq: Sequence[T]) -> T | NothingType:
                if not seq:
                    return Nothing
                return seq[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              print(head([]))
              print(head([1, 2, 3]))
              print(head([None]))
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              Nothing
              1
              None
            </code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Solution 1Â : gÃ©rer la sÃ©quence vide</h3>
          <p class="small">
            Cas d'utilisationÂ :<br />
            initialisation d'un cache sur le premier rÃ©pertoire de
            configuration.
          </p>
          <pre><code data-trim data-line-numbers="6-9|12-16|13|14-15|16|19-28|20|21|22-26|14-15|27-28" class="language-python">
            import os
            from collections.abc import Sequence
            from pathlib import Path


            def head[T](seq: Sequence[T]) -> T | None:
                if not seq:
                    return None
                return seq[0]


            def get_config_directories() -> Sequence[Path]:
                config_dirs_string = os.getenv("CONFIG_DIRS", "")
                if not config_dirs_string:
                    raise ValueError("CONFIG_DIRS cannot be empty")
                return [Path(d) for d in config_dirs_string.split(",")]


            def main() -> None:
                config_dirs = get_config_directories()
                match head(config_dirs):
                    case None:
                        raise ValueError(
                            "should never happen; "
                            "already checked config_dirs is non-empty"
                        )
                    case cache_dir:
                        initialize_cache(cache_dir)


            def initialize_cache(cache_dir: Path) -> None: ...


            if __name__ == "__main__":
                main()
          </code></pre>
        </section>

        <section data-auto-animate>
          <h3>Solution 1Â : gÃ©rer la sÃ©quence vide</h3>
          <h4>Les problÃ¨mes</h4>
          <ol>
            <li>ğŸ˜®â€ğŸ’¨ VÃ©rifications redondantes</li>
            <li>ğŸ“ˆ CoÃ»t de performance sur des cas plus complexes</li>
            <li>ğŸ› Un bug est probable Ã  l'avenirÂ : â€¦</li>
          </ol>
        </section>

        <section>
          <h3>Solution 2Â : interdire la sÃ©quence vide</h3>
        </section>

        <section>
          <h2>â€¦</h2>
        </section>

        <section>
          <h2>Merci</h2>
          <p>QuestionsÂ ?</p>
          <p class="powered-by">
            Powered by
            <a href="https://revealjs.com/" rel="external">
              <img src="assets/images/revealjs.svg" alt="Reveal.js" />
            </a>
          </p>
        </section>
      </div>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
