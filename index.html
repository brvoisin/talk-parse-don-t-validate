<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Et si on évitait les bugs avant même d'exécuter le code ?</title>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1 class="title">
            Et si on évitait les bugs avant même d'exécuter le code ?
          </h1>
          <p class="subtitle">Utilisez pleinement la puissance des types</p>
          <p class="speaker">Bruno Voisin</p>
          <p class="event">Tremplin Bordelais 2025</p>
        </section>

        <section>
          <h2>Je me présente 👋</h2>
          <p>Bruno Voisin</p>
          <p>Ingénieur logiciel depuis 13 ans</p>
          <div class="logos">
            <img src="assets/images/yaal-logo-160.jpg" alt="Yaal" />
            <img src="assets/images/sinch-logo-small.png" alt="Sinch" />
          </div>
        </section>

        <section>
          <h2 class="hidden">Présentation du sujet</h2>
          <div class="preview">
            <div class="link">
              <a
                href="https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/"
                rel="external"
              >
                lexi-lambda.github.io
              </a>
            </div>
            <div class="title">
              <a
                href="https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/"
                rel="external"
              >
                Parse, don’t validate
              </a>
            </div>
            <div class="description">
              <p>
                Historically, I’ve struggled to find a concise, simple way to
                explain what it means to practice type-driven design. Too often,
                when someone asks me “How did you come up with this approach?” I
                find I can’t give them a satisfying answer.
              </p>
            </div>
            <div class="author">Alexis King</div>
          </div>
        </section>

        <section>
          <h2>Le domaine des possibilités</h2>
          <pre><code data-trim data-line-numbers class="language-python">
            from collections.abc import Sequence

            def head[T](a: Sequence[T]) -> T:
                return a[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              head([])
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              IndexError: list index out of range
            </code></pre>
            <p>
              La fonction est <strong>partielle</strong> :<br />
              toutes les entrées possibles ne sont pas prises en compte.
            </p>
          </div>
        </section>

        <section>
          <h2>Fonction totale</h2>
          <p>Toutes les entrées possibles sont prises en compte.</p>
        </section>

        <section data-auto-animate>
          <h3>Solution 1 : gérer la séquence vide</h3>
          <pre
            data-id="code-solution-1"
          ><code data-trim data-line-numbers class="language-python">
            def head[T](a: Sequence[T]) -> T | None:
                if not a:
                    return None
                return a[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              print(head([]))
              print(head([1, 2, 3]))
              print(head([None]))
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              None
              1
              None
            </code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Solution 1 : gérer la séquence vide</h3>
          <pre
            data-id="code-solution-1"
          ><code data-trim data-line-numbers class="language-python">
            from typing import NewType

            NothingType = NewType("NothingType", str)
            Nothing = NothingType("Nothing")

            def head[T](a: Sequence[T]) -> T | NothingType:
                if not a:
                    return Nothing
                return a[0]
          </code></pre>
          <div class="fragment">
            <pre><code data-trim data-line-numbers class="language-python">
              print(head([]))
              print(head([1, 2, 3]))
              print(head([None]))
            </code></pre>
            <pre><code data-trim class="language-plaintext">
              Nothing
              1
              None
            </code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h3>Solution 1 : gérer la séquence vide</h3>
          <p>À l'usage, on doit vérifier la valeur de retour.</p>
          <p>Exemple d'utilisation…</p>
        </section>

        <section data-auto-animate>
          <h3>Solution 1 : gérer la séquence vide</h3>
          <h4>Les problèmes</h4>
          <ol>
            <li>😮‍💨 Vérifications redondantes</li>
            <li>📈 Coût de performance sur des cas plus complexes</li>
            <li>🐛 Un bug est probable à l'avenir : …</li>
          </ol>
        </section>

        <section>
          <h3>Solution 2 : interdire la séquence vide</h3>
        </section>

        <section>
          <h2>…</h2>
        </section>

        <section>
          <h2>The end</h2>
          <p>Remerciements</p>
          <p>Questions</p>
        </section>
      </div>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
